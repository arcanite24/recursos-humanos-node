<div layout layout-padding>
  <div flex="100">
    <form ng-submit="addUser(newuserdata)">
      <div flex="100">
        <h3>Agregar Usuario</h3>
        <md-progress-linear md-mode="indeterminate" ng-show="loader"></md-progress-linear>
      </div>
      <div flex="100" class="login-inputs" layout="row" layout-align="center center" layout-wrap layout-padding>
        <md-input-container class="" flex-gt-sm="50" flex-sm="100">
          <label>Correo Electrónico</label>
          <input ng-model="newuserdata.username" type="email" ng-pattern="/^[a-z]+[a-z0-9._]+@[a-z]+\.[a-z.]{2,5}$/" required>
        </md-input-container>
        <md-input-container class="" flex-gt-sm="50" flex-sm="100">
          <label>Nombre</label>
          <input ng-model="newuserdata.name" required>
        </md-input-container>
        <md-input-container class="" flex-gt-sm="50" flex-sm="100">
          <label>Contraseña</label>
          <input ng-model="newuserdata.password" type="text" required>
        </md-input-container>
        <md-input-container class="" flex-gt-sm="50" flex-sm="100" ng-init="loadEmpresas()">
          <label>Empresa</label>
          <md-select ng-model="newuserdata.empresa">
            <md-option ng-value="null"><em>Ninguna</em></md-option>
            <md-option ng-repeat="empresa in empresas" ng-value="empresa.id">
              {{empresa.name}}
            </md-option>
          </md-select>
        </md-input-container>
        <div flex-gt-sm="100" flex-sm="100" layout>
          <span flex></span>
          <md-button class="md-raised md-accent" type="button" ng-click="closeModal()">Cerrar</md-button>
          <md-button class="md-raised md-primary" type="submit">Agregar</md-button>
        </div>
      </div>
    </form>
  </div>
</div>